{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./service/app.layout.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./app.menu.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"primeng/ripple\";\nconst _c0 = [\"app-menuitem\", \"\"];\nfunction AppMenuitemComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.item.label);\n  }\n}\nfunction AppMenuitemComponent_a_2_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 9);\n  }\n}\nfunction AppMenuitemComponent_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵlistener(\"click\", function AppMenuitemComponent_a_2_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.itemClick($event));\n    });\n    i0.ɵɵelement(1, \"i\", 6);\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppMenuitemComponent_a_2_i_4_Template, 1, 0, \"i\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.item.class);\n    i0.ɵɵattribute(\"href\", ctx_r1.item.url, i0.ɵɵsanitizeUrl)(\"target\", ctx_r1.item.target);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.item.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.item.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.item.items);\n  }\n}\nfunction AppMenuitemComponent_a_3_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 9);\n  }\n}\nconst _c1 = function () {\n  return {\n    paths: \"exact\",\n    queryParams: \"ignored\",\n    matrixParams: \"ignored\",\n    fragment: \"ignored\"\n  };\n};\nfunction AppMenuitemComponent_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function AppMenuitemComponent_a_3_Template_a_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.itemClick($event));\n    });\n    i0.ɵɵelement(1, \"i\", 6);\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AppMenuitemComponent_a_3_i_4_Template, 1, 0, \"i\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.item.class)(\"routerLink\", ctx_r2.item.routerLink)(\"routerLinkActiveOptions\", ctx_r2.item.routerLinkActiveOptions || i0.ɵɵpureFunction0(14, _c1))(\"fragment\", ctx_r2.item.fragment)(\"queryParamsHandling\", ctx_r2.item.queryParamsHandling)(\"preserveFragment\", ctx_r2.item.preserveFragment)(\"skipLocationChange\", ctx_r2.item.skipLocationChange)(\"replaceUrl\", ctx_r2.item.replaceUrl)(\"state\", ctx_r2.item.state)(\"queryParams\", ctx_r2.item.queryParams);\n    i0.ɵɵattribute(\"target\", ctx_r2.item.target);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.item.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.item.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.item.items);\n  }\n}\nfunction AppMenuitemComponent_ul_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"li\", 12);\n  }\n  if (rf & 2) {\n    const child_r11 = ctx.$implicit;\n    const i_r12 = ctx.index;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(child_r11.badgeClass);\n    i0.ɵɵproperty(\"item\", child_r11)(\"index\", i_r12)(\"parentKey\", ctx_r10.key);\n  }\n}\nfunction AppMenuitemComponent_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, AppMenuitemComponent_ul_4_ng_template_1_Template, 1, 5, \"ng-template\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"@children\", ctx_r3.submenuAnimation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.item.items);\n  }\n}\nexport class AppMenuitemComponent {\n  constructor(layoutService, cd, router, menuService) {\n    this.layoutService = layoutService;\n    this.cd = cd;\n    this.router = router;\n    this.menuService = menuService;\n    this.active = false;\n    this.key = \"\";\n    this.menuSourceSubscription = this.menuService.menuSource$.subscribe(value => {\n      Promise.resolve(null).then(() => {\n        if (value.routeEvent) {\n          this.active = value.key === this.key || value.key.startsWith(this.key + '-') ? true : false;\n        } else {\n          if (value.key !== this.key && !value.key.startsWith(this.key + '-')) {\n            this.active = false;\n          }\n        }\n      });\n    });\n    this.menuResetSubscription = this.menuService.resetSource$.subscribe(() => {\n      this.active = false;\n    });\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(params => {\n      if (this.item.routerLink) {\n        this.updateActiveStateFromRoute();\n      }\n    });\n  }\n  ngOnInit() {\n    this.key = this.parentKey ? this.parentKey + '-' + this.index : String(this.index);\n    if (this.item.routerLink) {\n      this.updateActiveStateFromRoute();\n    }\n  }\n  updateActiveStateFromRoute() {\n    let activeRoute = this.router.isActive(this.item.routerLink[0], {\n      paths: 'exact',\n      queryParams: 'ignored',\n      matrixParams: 'ignored',\n      fragment: 'ignored'\n    });\n    if (activeRoute) {\n      this.menuService.onMenuStateChange({\n        key: this.key,\n        routeEvent: true\n      });\n    }\n  }\n  itemClick(event) {\n    // avoid processing disabled items\n    if (this.item.disabled) {\n      event.preventDefault();\n      return;\n    }\n    // execute command\n    if (this.item.command) {\n      this.item.command({\n        originalEvent: event,\n        item: this.item\n      });\n    }\n    // toggle active state\n    if (this.item.items) {\n      this.active = !this.active;\n    }\n    this.menuService.onMenuStateChange({\n      key: this.key\n    });\n  }\n  get submenuAnimation() {\n    return this.root ? 'expanded' : this.active ? 'expanded' : 'collapsed';\n  }\n  get activeClass() {\n    return this.active && !this.root;\n  }\n  ngOnDestroy() {\n    if (this.menuSourceSubscription) {\n      this.menuSourceSubscription.unsubscribe();\n    }\n    if (this.menuResetSubscription) {\n      this.menuResetSubscription.unsubscribe();\n    }\n  }\n}\nAppMenuitemComponent.ɵfac = function AppMenuitemComponent_Factory(t) {\n  return new (t || AppMenuitemComponent)(i0.ɵɵdirectiveInject(i1.LayoutService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MenuService));\n};\nAppMenuitemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppMenuitemComponent,\n  selectors: [[\"\", \"app-menuitem\", \"\"]],\n  hostVars: 4,\n  hostBindings: function AppMenuitemComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵclassProp(\"layout-root-menuitem\", ctx.root)(\"active-menuitem\", ctx.activeClass);\n    }\n  },\n  inputs: {\n    item: \"item\",\n    index: \"index\",\n    root: \"root\",\n    parentKey: \"parentKey\"\n  },\n  attrs: _c0,\n  decls: 5,\n  vars: 4,\n  consts: [[\"class\", \"layout-menuitem-root-text\", 4, \"ngIf\"], [\"tabindex\", \"0\", \"pRipple\", \"\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"routerLinkActive\", \"active-route\", \"tabindex\", \"0\", \"pRipple\", \"\", 3, \"ngClass\", \"routerLink\", \"routerLinkActiveOptions\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"queryParams\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"layout-menuitem-root-text\"], [\"tabindex\", \"0\", \"pRipple\", \"\", 3, \"ngClass\", \"click\"], [1, \"layout-menuitem-icon\", 3, \"ngClass\"], [1, \"layout-menuitem-text\"], [\"class\", \"pi pi-fw pi-angle-down layout-submenu-toggler\", 4, \"ngIf\"], [1, \"pi\", \"pi-fw\", \"pi-angle-down\", \"layout-submenu-toggler\"], [\"routerLinkActive\", \"active-route\", \"tabindex\", \"0\", \"pRipple\", \"\", 3, \"ngClass\", \"routerLink\", \"routerLinkActiveOptions\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"queryParams\", \"click\"], [\"ngFor\", \"\", 3, \"ngForOf\"], [\"app-menuitem\", \"\", 3, \"item\", \"index\", \"parentKey\"]],\n  template: function AppMenuitemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementContainerStart(0);\n      i0.ɵɵtemplate(1, AppMenuitemComponent_div_1_Template, 2, 1, \"div\", 0);\n      i0.ɵɵtemplate(2, AppMenuitemComponent_a_2_Template, 5, 6, \"a\", 1);\n      i0.ɵɵtemplate(3, AppMenuitemComponent_a_3_Template, 5, 15, \"a\", 2);\n      i0.ɵɵtemplate(4, AppMenuitemComponent_ul_4_Template, 2, 2, \"ul\", 3);\n      i0.ɵɵelementContainerEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.root && ctx.item.visible !== false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (!ctx.item.routerLink || ctx.item.items) && ctx.item.visible !== false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.item.routerLink && !ctx.item.items && ctx.item.visible !== false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.item.items && ctx.item.visible !== false);\n    }\n  },\n  dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i5.Ripple, i2.RouterLink, i2.RouterLinkActive, AppMenuitemComponent],\n  encapsulation: 2,\n  data: {\n    animation: [trigger('children', [state('collapsed', style({\n      height: '0'\n    })), state('expanded', style({\n      height: '*'\n    })), transition('collapsed <=> expanded', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)'))])]\n  }\n});","map":{"version":3,"mappings":"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","names":["NavigationEnd","animate","state","style","transition","trigger","filter","i0","AppMenuitemComponent","constructor","layoutService","cd","router","menuService","menuSourceSubscription","menuSource$","subscribe","value","Promise","resolve","then","routeEvent","active","key","startsWith","menuResetSubscription","resetSource$","events","pipe","event","params","item","routerLink","updateActiveStateFromRoute","ngOnInit","parentKey","index","String","activeRoute","isActive","paths","queryParams","matrixParams","fragment","onMenuStateChange","itemClick","disabled","preventDefault","command","originalEvent","items","submenuAnimation","root","activeClass","ngOnDestroy","unsubscribe","selectors","hostVars","hostBindings","encapsulation","data","animation","height"],"sourceRoot":"","sources":["C:\\Users\\desta\\Downloads\\FrontEnd\\src\\app\\layout\\app.menuitem.component.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, Host, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { animate, state, style, transition, trigger } from '@angular/animations';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { MenuService } from './app.menu.service';\nimport { LayoutService } from './service/app.layout.service';\n\n@Component({\n    // eslint-disable-next-line @angular-eslint/component-selector\n    selector: '[app-menuitem]',\n    template: `\n\t\t<ng-container>\n            <div *ngIf=\"root && item.visible !== false\" class=\"layout-menuitem-root-text\">{{item.label}}</div>\n\t\t\t<a *ngIf=\"(!item.routerLink || item.items) && item.visible !== false\" [attr.href]=\"item.url\" (click)=\"itemClick($event)\"\n\t\t\t   [ngClass]=\"item.class\" [attr.target]=\"item.target\" tabindex=\"0\" pRipple>\n\t\t\t\t<i [ngClass]=\"item.icon\" class=\"layout-menuitem-icon\"></i>\n\t\t\t\t<span class=\"layout-menuitem-text\">{{item.label}}</span>\n\t\t\t\t<i class=\"pi pi-fw pi-angle-down layout-submenu-toggler\" *ngIf=\"item.items\"></i>\n\t\t\t</a>\n\t\t\t<a *ngIf=\"(item.routerLink && !item.items) && item.visible !== false\" (click)=\"itemClick($event)\" [ngClass]=\"item.class\" \n\t\t\t   [routerLink]=\"item.routerLink\" routerLinkActive=\"active-route\" [routerLinkActiveOptions]=\"item.routerLinkActiveOptions||{ paths: 'exact', queryParams: 'ignored', matrixParams: 'ignored', fragment: 'ignored' }\"\n               [fragment]=\"item.fragment\" [queryParamsHandling]=\"item.queryParamsHandling\" [preserveFragment]=\"item.preserveFragment\" \n               [skipLocationChange]=\"item.skipLocationChange\" [replaceUrl]=\"item.replaceUrl\" [state]=\"item.state\" [queryParams]=\"item.queryParams\"\n               [attr.target]=\"item.target\" tabindex=\"0\" pRipple>\n\t\t\t\t<i [ngClass]=\"item.icon\" class=\"layout-menuitem-icon\"></i>\n\t\t\t\t<span class=\"layout-menuitem-text\">{{item.label}}</span>\n\t\t\t\t<i class=\"pi pi-fw pi-angle-down layout-submenu-toggler\" *ngIf=\"item.items\"></i>\n\t\t\t</a>\n\n\t\t\t<ul *ngIf=\"item.items && item.visible !== false\" [@children]=\"submenuAnimation\">\n\t\t\t\t<ng-template ngFor let-child let-i=\"index\" [ngForOf]=\"item.items\">\n\t\t\t\t\t<li app-menuitem [item]=\"child\" [index]=\"i\" [parentKey]=\"key\" [class]=\"child.badgeClass\"></li>\n\t\t\t\t</ng-template>\n\t\t\t</ul>\n\t\t</ng-container>\n    `,\n    animations: [\n        trigger('children', [\n            state('collapsed', style({\n                height: '0'\n            })),\n            state('expanded', style({\n                height: '*'\n            })),\n            transition('collapsed <=> expanded', animate('400ms cubic-bezier(0.86, 0, 0.07, 1)'))\n        ])\n    ]\n})\nexport class AppMenuitemComponent implements OnInit, OnDestroy {\n\n    @Input() item: any;\n\n    @Input() index!: number;\n\n    @Input() @HostBinding('class.layout-root-menuitem') root!: boolean;\n\n    @Input() parentKey!: string;\n\n    active = false;\n\n    menuSourceSubscription: Subscription;\n\n    menuResetSubscription: Subscription;\n\n    key: string = \"\";\n\n    constructor(public layoutService: LayoutService, private cd: ChangeDetectorRef, public router: Router, private menuService: MenuService) {\n        this.menuSourceSubscription = this.menuService.menuSource$.subscribe(value => {\n            Promise.resolve(null).then(() => {\n                if (value.routeEvent) {\n                    this.active = (value.key === this.key || value.key.startsWith(this.key + '-')) ? true : false;\n                }\n                else {\n                    if (value.key !== this.key && !value.key.startsWith(this.key + '-')) {\n                        this.active = false;\n                    }\n                }\n            });\n        });\n\n        this.menuResetSubscription = this.menuService.resetSource$.subscribe(() => {\n            this.active = false;\n        });\n\n        this.router.events.pipe(filter(event => event instanceof NavigationEnd))\n            .subscribe(params => {\n                if (this.item.routerLink) {\n                    this.updateActiveStateFromRoute();\n                }\n            });\n    }\n\n    ngOnInit() {\n        this.key = this.parentKey ? this.parentKey + '-' + this.index : String(this.index);\n\n        if (this.item.routerLink) {\n            this.updateActiveStateFromRoute();\n        }\n    }\n\n    updateActiveStateFromRoute() {\n        let activeRoute = this.router.isActive(this.item.routerLink[0], { paths: 'exact', queryParams: 'ignored', matrixParams: 'ignored', fragment: 'ignored' });\n\n        if (activeRoute) {\n            this.menuService.onMenuStateChange({ key: this.key, routeEvent: true });\n        }\n    }\n\n    itemClick(event: Event) {\n        // avoid processing disabled items\n        if (this.item.disabled) {\n            event.preventDefault();\n            return;\n        }\n\n        // execute command\n        if (this.item.command) {\n            this.item.command({ originalEvent: event, item: this.item });\n        }\n\n        // toggle active state\n        if (this.item.items) {\n            this.active = !this.active;\n        }\n\n        this.menuService.onMenuStateChange({ key: this.key });\n    }\n\n    get submenuAnimation() {\n        return this.root ? 'expanded' : (this.active ? 'expanded' : 'collapsed');\n    }\n\n    @HostBinding('class.active-menuitem') \n    get activeClass() {\n        return this.active && !this.root;\n    }\n\n    ngOnDestroy() {\n        if (this.menuSourceSubscription) {\n            this.menuSourceSubscription.unsubscribe();\n        }\n\n        if (this.menuResetSubscription) {\n            this.menuResetSubscription.unsubscribe();\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}